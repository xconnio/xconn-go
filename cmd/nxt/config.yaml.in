version: '1'

config:
  loglevel: debug

realms:
  - name: realm1
    roles:
      - name: authorized
        permissions:
          - uri: ""
            match: prefix
            allow_call: true
            allow_register: true
            allow_publish: true
            allow_subscribe: true

transports:
  - type: websocket
    listener: tcp
    address: localhost:8080
    serializers:
      - json
      - cbor
      - msgpack

  - type: rawsocket
    listener: tcp
    address: localhost:8082
    serializers:
      - json
      - cbor
      - msgpack

  - type: rawsocket
    listener: unix
    address: ~/nxt.sock
    serializers:
      - json
      - cbor
      - msgpack

authenticators:
  cryptosign:
    - authid: john
      realm: realm1
      role: anonymous
      authorized_keys:
        - 20e6ff0eb2552204fac19a15a61da586e437abd64a545bedce61a89b48184fcb

  wampcra:
    - authid: john
      realm: realm1
      role: anonymous
      secret: hello

  ticket:
    - authid: john
      realm: realm1
      role: anonymous
      ticket: hello

  anonymous:
    - authid: john
      realm: realm1
      role: anonymous
